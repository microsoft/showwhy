{
    "primarySpecification": {
        "causalModel": "Maximum",
        "type": "Propensity Score Stratification"
    },
    "subjectIdentifier": "index",
    "confidenceInterval": true,
    "causalFactors": [
        {
            "description": "Patient's age group derived from the Wolfram dataset",
            "variable": "Patient Age",
            "column": "age_group",
            "causes": {
                "causeExposure": 100,
                "causeOutcome": 100,
                "reasoning": "Exposure: Older adults are more likely to experience chronic diseases than younger adults. / Outcome: Older adults are likely to have higher mortality rates than younger adults"
            }
        },
        {
            "description": "Patient gender recorded in the Wolfram dataset",
            "variable": "Patient Gender",
            "column": "gender",
            "causes": {
                "causeExposure": 50,
                "causeOutcome": 50,
                "reasoning": "Exposure: Women tend to be more affected by long-term and chronic illness. / Outcome: There might be differences in risk of mortality between men and women"
            }
        }
    ],
    "definitions": [
        {
            "level": "Primary",
            "variable": "Experienced chronic disease",
            "description": "A binary variable indicating whether the patient reported having a chronic disease",
            "column": "chronic_disease",
            "type": "exposure"
        },
        {
            "level": "Secondary",
            "variable": "Experienced diabetes & hypertension chronic disease",
            "description": "COVID-19 patients recorded in the Wolfram dataset. Records must include complete information on the patient's age, gender, chronic disease status, and survival status",
            "column": "diabetes_hypertension",
            "type": "exposure"
        },
        {
            "level": "Primary",
            "variable": "Confirmed COVID-19 cases",
            "description": "COVID-19 patients recorded in the Wolfram dataset. Records must include complete information on the patient's age, gender, chronic disease status, and survival status",
            "column": "subject_inclusion",
            "type": "population"
        },
        {
            "level": "Primary",
            "variable": "Mortality",
            "description": "Binary variable indicating whether the patient died after contracting COVID-19",
            "column": "death",
            "type": "outcome"
        }
    ],
    "question": {
        "exposure": {
            "label": "Chronic Disease",
            "description": "Patient presented in the Wolfram dataset who reported having a chronic disease prior to contracting COVID-19",
            "dataset": "Wolfram dataset"
        },
        "population": {
            "label": "Confirmed COVID-19 Cases",
            "description": "Patients who tested positive for COVID-19 and were presented in the Wolfram's Patient Medical Data for Novel Coronavirus COVID-19 dataset",
            "dataset": "Wolfram dataset"
        },
        "outcome": {
            "label": "Mortality Risk",
            "description": "Patients did not survive after contracting COVID-19",
            "dataset": "Wolfram dataset"
        },
        "hypothesis": "Increase"
    },
    "estimators": [
        {
            "group": "Exposure-assignment",
            "type": "Inverse Propensity Weighting"
        },
        {
            "group": "Exposure-assignment",
            "type": "Propensity Score Stratification"
        },
        {
            "group": "Outcome-based",
            "type": "Linear Double Machine Learning"
        },
        {
            "group": "Outcome-based",
            "type": "Linear Doubly Robust Learner"
        },
        {
            "group": "Outcome-based",
            "type": "Linear Regression"
        }
    ],
    "refutations": 10,
    "todoPages": [
        "/perform/specification-curve",
        "/perform/evaluate"
    ],
    "tables": [
        {
            "url": "https://raw.githubusercontent.com/stccenter/COVID-19/master/prediction/patiant-level%20fatality/data/small%20records.csv",
            "name": "covid19_small_data.csv",
            "metadata": {
                "source": "https://www.frontiersin.org/articles/10.3389/fpubh.2020.587937/full",
                "citation": "Li, Yun, et al. (2020). Individual-level fatality prediction of COVID-19 patients using AI methods. Frontiers in Public Health 8 (2020): 566."
            },
            "primary": true,
            "autoType": true,
            "loadedCorrectly": true
        }
    ],
    "tablesPrep": [
        {
            "input": [
                "covid19_small_data.csv"
            ],
            "output": [
                {
                    "node": "select-0",
                    "name": "select-0"
                },
                {
                    "node": "rename-1",
                    "name": "rename-1"
                },
                {
                    "node": "filter-2",
                    "name": "filter-2"
                },
                {
                    "node": "filter-3",
                    "name": "filter-3"
                },
                {
                    "node": "filter-4",
                    "name": "filter-4"
                },
                {
                    "node": "filter-5",
                    "name": "filter-5"
                },
                {
                    "node": "filter-6",
                    "name": "filter-6"
                },
                {
                    "node": "filter-7",
                    "name": "filter-7"
                },
                {
                    "node": "filter-8",
                    "name": "filter-8"
                },
                {
                    "node": "filter-9",
                    "name": "filter-9"
                },
                {
                    "node": "filter-10",
                    "name": "filter-10"
                },
                {
                    "node": "filter-11",
                    "name": "filter-11"
                },
                {
                    "node": "filter-12",
                    "name": "filter-12"
                },
                {
                    "node": "binarize-13",
                    "name": "binarize-13"
                },
                {
                    "node": "binarize-14",
                    "name": "binarize-14"
                },
                {
                    "node": "binarize-15",
                    "name": "binarize-15"
                },
                {
                    "node": "binarize-16",
                    "name": "binarize-16"
                },
                {
                    "node": "binarize-17",
                    "name": "binarize-17"
                },
                {
                    "node": "binarize-18",
                    "name": "binarize-18"
                },
                {
                    "node": "binarize-19",
                    "name": "binarize-19"
                },
                {
                    "node": "binarize-20",
                    "name": "binarize-20"
                },
                {
                    "node": "binarize-21",
                    "name": "binarize-21"
                },
                {
                    "node": "fill-22",
                    "name": "fill-22"
                },
                {
                    "node": "fill-23",
                    "name": "fill-23"
                },
                {
                    "node": "fill-24",
                    "name": "fill-24"
                },
                {
                    "node": "fill-25",
                    "name": "fill-25"
                },
                {
                    "node": "fill-26",
                    "name": "fill-26"
                },
                {
                    "node": "fill-27",
                    "name": "fill-27"
                },
                {
                    "node": "fill-28",
                    "name": "fill-28"
                },
                {
                    "node": "fill-29",
                    "name": "fill-29"
                },
                {
                    "node": "fill-30",
                    "name": "fill-30"
                },
                {
                    "node": "derive-31",
                    "name": "derive-31"
                },
                {
                    "node": "derive-32",
                    "name": "derive-32"
                },
                {
                    "node": "derive-33",
                    "name": "derive-33"
                },
                {
                    "node": "derive-34",
                    "name": "derive-34"
                },
                {
                    "node": "derive-35",
                    "name": "derive-35"
                },
                {
                    "node": "derive-36",
                    "name": "derive-36"
                },
                {
                    "node": "derive-37",
                    "name": "derive-37"
                },
                {
                    "node": "derive-38",
                    "name": "derive-38"
                },
                {
                    "node": "derive-39",
                    "name": "derive-39"
                },
                {
                    "node": "derive-40",
                    "name": "derive-40"
                },
                {
                    "node": "derive-41",
                    "name": "derive-41"
                },
                {
                    "node": "derive-42",
                    "name": "derive-42"
                },
                {
                    "node": "derive-43",
                    "name": "derive-43"
                },
                {
                    "node": "derive-44",
                    "name": "derive-44"
                },
                {
                    "node": "derive-45",
                    "name": "derive-45"
                },
                {
                    "node": "derive-46",
                    "name": "derive-46"
                },
                {
                    "node": "derive-47",
                    "name": "derive-47"
                },
                {
                    "node": "derive-48",
                    "name": "derive-48"
                },
                {
                    "node": "convert-49",
                    "name": "convert-49"
                },
                {
                    "node": "binarize-50",
                    "name": "binarize-50"
                },
                {
                    "node": "select-51",
                    "name": "select-51"
                },
                {
                    "node": "fill-52",
                    "name": "fill-52"
                },
                {
                    "node": "fill-52",
                    "name": "fill-52"
                },
                {
                    "node": "select-53",
                    "name": "select-53"
                }
            ],
            "steps": [
                {
                    "id": "select-0",
                    "args": {
                        "columns": [
                            "age",
                            "ChronicDiseaseQ",
                            "gender_binary",
                            "death_binary",
                            "hypertension",
                            "diabetes"
                        ]
                    },
                    "verb": "select",
                    "input": {
                        "source": {
                            "node": "covid19_small_data.csv"
                        }
                    }
                },
                {
                    "id": "rename-1",
                    "args": {
                        "columns": {
                            "age": "age",
                            "ChronicDiseaseQ": "chronic_disease",
                            "gender_binary": "gender",
                            "death_binary": "death",
                            "hypertension": "hypertension",
                            "diabetes": "diabetes"
                        }
                    },
                    "verb": "rename",
                    "input": {
                        "source": {
                            "node": "select-0"
                        }
                    }
                },
                {
                    "id": "filter-2",
                    "args": {
                        "column": "age",
                        "criteria": [
                            {
                                "operator": "is not equal",
                                "type": "value",
                                "value": "0-6"
                            }
                        ]
                    },
                    "verb": "filter",
                    "input": {
                        "source": {
                            "node": "rename-1"
                        }
                    }
                },
                {
                    "id": "filter-3",
                    "args": {
                        "column": "age",
                        "criteria": [
                            {
                                "operator": "is not equal",
                                "type": "value",
                                "value": "0-10"
                            }
                        ]
                    },
                    "verb": "filter",
                    "input": {
                        "source": {
                            "node": "filter-2"
                        }
                    }
                },
                {
                    "id": "filter-4",
                    "args": {
                        "column": "age",
                        "criteria": [
                            {
                                "operator": "is not equal",
                                "type": "value",
                                "value": "1"
                            }
                        ]
                    },
                    "verb": "filter",
                    "input": {
                        "source": {
                            "node": "filter-3"
                        }
                    }
                },
                {
                    "id": "filter-5",
                    "args": {
                        "column": "age",
                        "criteria": [
                            {
                                "operator": "is not equal",
                                "type": "value",
                                "value": "2"
                            }
                        ]
                    },
                    "verb": "filter",
                    "input": {
                        "source": {
                            "node": "filter-4"
                        }
                    }
                },
                {
                    "id": "filter-6",
                    "args": {
                        "column": "age",
                        "criteria": [
                            {
                                "operator": "is not equal",
                                "type": "value",
                                "value": "3"
                            }
                        ]
                    },
                    "verb": "filter",
                    "input": {
                        "source": {
                            "node": "filter-5"
                        }
                    }
                },
                {
                    "id": "filter-7",
                    "args": {
                        "column": "age",
                        "criteria": [
                            {
                                "operator": "is not equal",
                                "type": "value",
                                "value": "4"
                            }
                        ]
                    },
                    "verb": "filter",
                    "input": {
                        "source": {
                            "node": "filter-6"
                        }
                    }
                },
                {
                    "id": "filter-8",
                    "args": {
                        "column": "age",
                        "criteria": [
                            {
                                "operator": "is not equal",
                                "type": "value",
                                "value": "5"
                            }
                        ]
                    },
                    "verb": "filter",
                    "input": {
                        "source": {
                            "node": "filter-7"
                        }
                    }
                },
                {
                    "id": "filter-9",
                    "args": {
                        "column": "age",
                        "criteria": [
                            {
                                "operator": "is not equal",
                                "type": "value",
                                "value": "6"
                            }
                        ]
                    },
                    "verb": "filter",
                    "input": {
                        "source": {
                            "node": "filter-8"
                        }
                    }
                },
                {
                    "id": "filter-10",
                    "args": {
                        "column": "age",
                        "criteria": [
                            {
                                "operator": "is not equal",
                                "type": "value",
                                "value": "7"
                            }
                        ]
                    },
                    "verb": "filter",
                    "input": {
                        "source": {
                            "node": "filter-9"
                        }
                    }
                },
                {
                    "id": "filter-11",
                    "args": {
                        "column": "age",
                        "criteria": [
                            {
                                "operator": "is not equal",
                                "type": "value",
                                "value": "8"
                            }
                        ]
                    },
                    "verb": "filter",
                    "input": {
                        "source": {
                            "node": "filter-10"
                        }
                    }
                },
                {
                    "id": "filter-12",
                    "args": {
                        "column": "age",
                        "criteria": [
                            {
                                "operator": "is not equal",
                                "type": "value",
                                "value": "9"
                            }
                        ]
                    },
                    "verb": "filter",
                    "input": {
                        "source": {
                            "node": "filter-11"
                        }
                    }
                },
                {
                    "id": "binarize-13",
                    "args": {
                        "to": "age_10_19",
                        "column": "age",
                        "criteria": [
                            {
                                "operator": "starts with",
                                "type": "value",
                                "value": "1"
                            }
                        ]
                    },
                    "verb": "binarize",
                    "input": {
                        "source": {
                            "node": "filter-12"
                        }
                    }
                },
                {
                    "id": "binarize-14",
                    "args": {
                        "to": "age_20_29",
                        "column": "age",
                        "criteria": [
                            {
                                "operator": "starts with",
                                "type": "value",
                                "value": "2"
                            }
                        ]
                    },
                    "verb": "binarize",
                    "input": {
                        "source": {
                            "node": "binarize-13"
                        }
                    }
                },
                {
                    "id": "binarize-15",
                    "args": {
                        "to": "age_30_39",
                        "column": "age",
                        "criteria": [
                            {
                                "operator": "starts with",
                                "type": "value",
                                "value": "3"
                            }
                        ]
                    },
                    "verb": "binarize",
                    "input": {
                        "source": {
                            "node": "binarize-14"
                        }
                    }
                },
                {
                    "id": "binarize-16",
                    "args": {
                        "to": "age_40_49",
                        "column": "age",
                        "criteria": [
                            {
                                "operator": "starts with",
                                "type": "value",
                                "value": "4"
                            }
                        ]
                    },
                    "verb": "binarize",
                    "input": {
                        "source": {
                            "node": "binarize-15"
                        }
                    }
                },
                {
                    "id": "binarize-17",
                    "args": {
                        "to": "age_50_59",
                        "column": "age",
                        "criteria": [
                            {
                                "operator": "starts with",
                                "type": "value",
                                "value": "5"
                            }
                        ]
                    },
                    "verb": "binarize",
                    "input": {
                        "source": {
                            "node": "binarize-16"
                        }
                    }
                },
                {
                    "id": "binarize-18",
                    "args": {
                        "to": "age_60_69",
                        "column": "age",
                        "criteria": [
                            {
                                "operator": "starts with",
                                "type": "value",
                                "value": "6"
                            }
                        ]
                    },
                    "verb": "binarize",
                    "input": {
                        "source": {
                            "node": "binarize-17"
                        }
                    }
                },
                {
                    "id": "binarize-19",
                    "args": {
                        "to": "age_70_79",
                        "column": "age",
                        "criteria": [
                            {
                                "operator": "starts with",
                                "type": "value",
                                "value": "7"
                            }
                        ]
                    },
                    "verb": "binarize",
                    "input": {
                        "source": {
                            "node": "binarize-18"
                        }
                    }
                },
                {
                    "id": "binarize-20",
                    "args": {
                        "to": "age_80_89",
                        "column": "age",
                        "criteria": [
                            {
                                "operator": "starts with",
                                "type": "value",
                                "value": "8"
                            }
                        ]
                    },
                    "verb": "binarize",
                    "input": {
                        "source": {
                            "node": "binarize-19"
                        }
                    }
                },
                {
                    "id": "binarize-21",
                    "args": {
                        "to": "age_90_99",
                        "column": "age",
                        "criteria": [
                            {
                                "operator": "starts with",
                                "type": "value",
                                "value": "9"
                            }
                        ]
                    },
                    "verb": "binarize",
                    "input": {
                        "source": {
                            "node": "binarize-20"
                        }
                    }
                },
                {
                    "id": "fill-22",
                    "args": {
                        "to": "age_group_1",
                        "value": "1"
                    },
                    "verb": "fill",
                    "input": {
                        "source": {
                            "node": "binarize-21"
                        }
                    }
                },
                {
                    "id": "fill-23",
                    "args": {
                        "to": "age_group_2",
                        "value": "2"
                    },
                    "verb": "fill",
                    "input": {
                        "source": {
                            "node": "fill-22"
                        }
                    }
                },
                {
                    "id": "fill-24",
                    "args": {
                        "to": "age_group_3",
                        "value": "3"
                    },
                    "verb": "fill",
                    "input": {
                        "source": {
                            "node": "fill-23"
                        }
                    }
                },
                {
                    "id": "fill-25",
                    "args": {
                        "to": "age_group_4",
                        "value": "4"
                    },
                    "verb": "fill",
                    "input": {
                        "source": {
                            "node": "fill-24"
                        }
                    }
                },
                {
                    "id": "fill-26",
                    "args": {
                        "to": "age_group_5",
                        "value": "5"
                    },
                    "verb": "fill",
                    "input": {
                        "source": {
                            "node": "fill-25"
                        }
                    }
                },
                {
                    "id": "fill-27",
                    "args": {
                        "to": "age_group_6",
                        "value": "6"
                    },
                    "verb": "fill",
                    "input": {
                        "source": {
                            "node": "fill-26"
                        }
                    }
                },
                {
                    "id": "fill-28",
                    "args": {
                        "to": "age_group_7",
                        "value": "7"
                    },
                    "verb": "fill",
                    "input": {
                        "source": {
                            "node": "fill-27"
                        }
                    }
                },
                {
                    "id": "fill-29",
                    "args": {
                        "to": "age_group_8",
                        "value": "8"
                    },
                    "verb": "fill",
                    "input": {
                        "source": {
                            "node": "fill-28"
                        }
                    }
                },
                {
                    "id": "fill-30",
                    "args": {
                        "to": "age_group_9",
                        "value": "9"
                    },
                    "verb": "fill",
                    "input": {
                        "source": {
                            "node": "fill-29"
                        }
                    }
                },
                {
                    "id": "derive-31",
                    "args": {
                        "to": "age_10_19",
                        "column1": "age_10_19",
                        "operator": "*",
                        "column2": "age_group_1"
                    },
                    "verb": "derive",
                    "input": {
                        "source": {
                            "node": "fill-30"
                        }
                    }
                },
                {
                    "id": "derive-32",
                    "args": {
                        "to": "age_20_29",
                        "column1": "age_20_29",
                        "operator": "*",
                        "column2": "age_group_2"
                    },
                    "verb": "derive",
                    "input": {
                        "source": {
                            "node": "derive-31"
                        }
                    }
                },
                {
                    "id": "derive-33",
                    "args": {
                        "to": "age_30_39",
                        "column1": "age_30_39",
                        "operator": "*",
                        "column2": "age_group_3"
                    },
                    "verb": "derive",
                    "input": {
                        "source": {
                            "node": "derive-32"
                        }
                    }
                },
                {
                    "id": "derive-34",
                    "args": {
                        "to": "age_40_49",
                        "column1": "age_40_49",
                        "operator": "*",
                        "column2": "age_group_4"
                    },
                    "verb": "derive",
                    "input": {
                        "source": {
                            "node": "derive-33"
                        }
                    }
                },
                {
                    "id": "derive-35",
                    "args": {
                        "to": "age_50_59",
                        "column1": "age_50_59",
                        "operator": "*",
                        "column2": "age_group_5"
                    },
                    "verb": "derive",
                    "input": {
                        "source": {
                            "node": "derive-34"
                        }
                    }
                },
                {
                    "id": "derive-36",
                    "args": {
                        "to": "age_60_69",
                        "column1": "age_60_69",
                        "operator": "*",
                        "column2": "age_group_6"
                    },
                    "verb": "derive",
                    "input": {
                        "source": {
                            "node": "derive-35"
                        }
                    }
                },
                {
                    "id": "derive-37",
                    "args": {
                        "to": "age_70_79",
                        "column1": "age_70_79",
                        "operator": "*",
                        "column2": "age_group_7"
                    },
                    "verb": "derive",
                    "input": {
                        "source": {
                            "node": "derive-36"
                        }
                    }
                },
                {
                    "id": "derive-38",
                    "args": {
                        "to": "age_80_89",
                        "column1": "age_80_89",
                        "operator": "*",
                        "column2": "age_group_8"
                    },
                    "verb": "derive",
                    "input": {
                        "source": {
                            "node": "derive-37"
                        }
                    }
                },
                {
                    "id": "derive-39",
                    "args": {
                        "to": "age_90_99",
                        "column1": "age_90_99",
                        "operator": "*",
                        "column2": "age_group_9"
                    },
                    "verb": "derive",
                    "input": {
                        "source": {
                            "node": "derive-38"
                        }
                    }
                },
                {
                    "id": "derive-40",
                    "args": {
                        "to": "age_10_29",
                        "column1": "age_10_19",
                        "operator": "+",
                        "column2": "age_20_29"
                    },
                    "verb": "derive",
                    "input": {
                        "source": {
                            "node": "derive-39"
                        }
                    }
                },
                {
                    "id": "derive-41",
                    "args": {
                        "to": "age_30_49",
                        "column1": "age_30_39",
                        "operator": "+",
                        "column2": "age_40_49"
                    },
                    "verb": "derive",
                    "input": {
                        "source": {
                            "node": "derive-40"
                        }
                    }
                },
                {
                    "id": "derive-42",
                    "args": {
                        "to": "age_50_69",
                        "column1": "age_50_59",
                        "operator": "+",
                        "column2": "age_60_69"
                    },
                    "verb": "derive",
                    "input": {
                        "source": {
                            "node": "derive-41"
                        }
                    }
                },
                {
                    "id": "derive-43",
                    "args": {
                        "to": "age_70_89",
                        "column1": "age_70_79",
                        "operator": "+",
                        "column2": "age_80_89"
                    },
                    "verb": "derive",
                    "input": {
                        "source": {
                            "node": "derive-42"
                        }
                    }
                },
                {
                    "id": "derive-44",
                    "args": {
                        "to": "age_10_49",
                        "column1": "age_10_29",
                        "operator": "+",
                        "column2": "age_30_49"
                    },
                    "verb": "derive",
                    "input": {
                        "source": {
                            "node": "derive-43"
                        }
                    }
                },
                {
                    "id": "derive-45",
                    "args": {
                        "to": "age_50_89",
                        "column1": "age_50_69",
                        "operator": "+",
                        "column2": "age_70_89"
                    },
                    "verb": "derive",
                    "input": {
                        "source": {
                            "node": "derive-44"
                        }
                    }
                },
                {
                    "id": "derive-46",
                    "args": {
                        "to": "age_10_89",
                        "column1": "age_10_49",
                        "operator": "+",
                        "column2": "age_50_89"
                    },
                    "verb": "derive",
                    "input": {
                        "source": {
                            "node": "derive-45"
                        }
                    }
                },
                {
                    "id": "derive-47",
                    "args": {
                        "to": "age_group",
                        "column1": "age_10_89",
                        "operator": "+",
                        "column2": "age_90_99"
                    },
                    "verb": "derive",
                    "input": {
                        "source": {
                            "node": "derive-46"
                        }
                    }
                },
                {
                    "id": "derive-48",
                    "args": {
                        "column1": "diabetes",
                        "column2": "hypertension",
                        "operator": "+",
                        "to": "Combined"
                    },
                    "verb": "derive",
                    "input": {
                        "source": {
                            "node": "derive-47"
                        }
                    }
                },
                {
                    "id": "convert-49",
                    "args": {
                        "columns": [
                            "Combined"
                        ],
                        "type": "float"
                    },
                    "verb": "convert",
                    "input": {
                        "source": {
                            "node": "derive-48"
                        }
                    }
                },
                {
                    "id": "binarize-50",
                    "args": {
                        "column": "Combined",
                        "to": "diabetes_hypertension",
                        "criteria": [
                            {
                                "operator": ">",
                                "value": 0,
                                "type": "value"
                            }
                        ]
                    },
                    "verb": "binarize",
                    "input": {
                        "source": {
                            "node": "convert-49"
                        }
                    }
                },
                {
                    "id": "select-51",
                    "args": {
                        "columns": [
                            "age",
                            "chronic_disease",
                            "gender",
                            "death",
                            "age_group",
                            "diabetes_hypertension"
                        ]
                    },
                    "verb": "select",
                    "input": {
                        "source": {
                            "node": "binarize-50"
                        }
                    }
                },
                {
                    "id": "fill-52",
                    "args": {
                        "to": "subject_inclusion",
                        "value": "1"
                    },
                    "verb": "fill",
                    "input": {
                        "source": {
                            "node": "select-51"
                        }
                    }
                },
                {
                    "id": "select-53",
                    "args": {
                        "columns": [
                            "index",
                            "diabetes_hypertension",
                            "subject_inclusion",
                            "chronic_disease",
                            "gender",
                            "death",
                            "age_group"
                        ]
                    },
                    "verb": "select",
                    "input": {
                        "source": {
                            "node": "fill-52"
                        }
                    }
                }
            ]
        }
    ]
}